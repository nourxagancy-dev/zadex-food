# ملاحظات تنفيذ الواجهات (Vue 3 Admin + React Customer)

## لوحة التحكم (Vue 3 + Vite + Bootstrap 5 RTL)
- **تنظيم المشروع**: استخدم Pinia لإدارة الحالة، Vue Router للتوجيه، وAxios مع interceptors للـ Auth Token (Sanctum). ضع الثيم الزجاجي البنفسجي في `src/styles/theme.scss` مع متغيرات Bootstrap مخصصة.
- **التوثيق والدخول**:
  - حدد معدل الطلبات (Rate Limit) عبر Middleware في Laravel + تنبيهات Toast على الواجهة.
  - صفحة تسجيل الدخول تستخدم بطاقات شفافة، حقول كبيرة، وزر دخول Primary.
- **الـ Layout**: Layout أساسي `AdminLayout.vue` يحوي Sidebar ثابتة (RTL)، Header فيه حالة المتجر (مفتوح/مغلق)، وتنبيه حالة الاتصال.
- **إدارة الأقسام/المنتجات**:
  - جداول مع Pagination وخيارات بحث/فرز.
  - نماذج CRUD تدعم رفع الصورة (drag & drop) وتحديد الحالة (نشط/غير نشط) وترتيب العرض.
  - شاشة المنتج تحتوي على تبويب Option Groups مع قواعد min/max/required والتحقق الفوري قبل الحفظ.
- **الطلبات + شاشة المطبخ**:
  - استخدم Polling كل 5 ثوانٍ (أو WebSocket إذا توفر) لتحديث الطلبات الجديدة مع صوت تنبيه.
  - أزرار تغيير الحالة متدرجة: Pending → Confirmed → Preparing → Ready → On The Way → Completed / Cancelled.
  - عرض تفاصيل الإضافات ضمن كل عنصر مع الألوان حسب الحالة.
- **الكوبونات والتقارير**:
  - واجهة إنشاء كوبون مع نوع (نسبة/قيمة) وشروط الاستخدام (حد أدنى، تاريخ انتهاء، عدد استخدام، قيود قسم/منتج/فرع).
  - صفحة تقارير بعرض بطاقات أرقام + مخططات بسيطة (Chart.js) لليوم/الأسبوع/الشهر.
- **الإعدادات**:
  - إعدادات المطعم: الاسم، الشعار، أوقات العمل، ضريبة، رسوم توصيل، رقم واتساب، حالة الفتح/الإغلاق.
  - إعدادات واتساب: قالب الرسالة، رقم الاستقبال الافتراضي، مفتاح تفعيل فتح الواتساب تلقائياً.
- **الصلاحيات**:
  - استخدم أدوار Owner/Manager/Cashier/Kitchen مع حراسة مسارات (Route Guards) حسب الـ Permissions.

## واجهة العميل (React + Vite + Bootstrap 5 RTL + PWA)
- **إطار العمل**: React Router + TanStack Query (للـ caching والأوفلاين) + Zustand/SWR للحالة البسيطة للسلة، وService Worker للتخزين المؤقت.
- **التصميم**: نفس الثيم الزجاجي البنفسجي، بطاقات شفافة، أزرار كبيرة، وأيقونات واضحة. اعتماد خط Cairo وRTL بالكامل.
- **الشاشة الرئيسية/القائمة**:
  - البحث + فلترة بالتصنيف، وإظهار حالة المتجر (مفتوح/مغلق) مع رسالة ودية.
  - تحميل كسول للصور واستخدام Skeleton أثناء التحميل.
- **تفاصيل المنتج**:
  - عرض المجموعات (Option Groups) مع تحقق min/max/required قبل إضافة للسلة.
  - استخدام Toasts للأخطاء (مثلاً اختيار عدد أقل من المطلوب).
- **السلة والدفع**:
  - إمكانية تعديل الكميات وحذف العناصر، مع إعادة حساب Subtotal/ضريبة/توصيل/خصم الكوبون.
  - دعم طلب توصيل (عنوان) أو استلام (اختيار فرع) مع حفظ آخر اختيار في localStorage.
  - خيارات الدفع: عند الاستلام، Paymob (redirect/iframe)، فوري، Vodafone Cash.
- **PWA**:
  - `manifest.json` بأيقونات متعددة، `service-worker.js` للكاش، وصفحة Offline تعرض آخر نسخة محفوظة من المنيو + رسالة "أنت حالياً بدون اتصال".
  - حدث Add to Home Screen مع زر مخصص يظهر عند توفره.
- **التتبع والواتساب**:
  - بعد إنشاء الطلب، عرض رقم الطلب + زر فتح واتساب برسالة جاهزة + زر تتبع الطلب (status polling كل 5 ثوانٍ).
- **تحسينات SEO**:
  - عناوين وأوصاف Meta ديناميكية، OpenGraph للمنتجات والأقسام، وروابط نظيفة تتضمن `restaurant_slug` و`product_slug`.
